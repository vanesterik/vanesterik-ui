import{r as d,_ as N,j as C}from"./index-4dd2485a.js";import{a as j,c as T}from"./index-47f7d1fa.js";function B(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var M=d.useLayoutEffect,_=function(e){var t=d.useRef(e);return M(function(){t.current=e}),t},z=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},$=function(e,t){var r=d.useRef();return d.useCallback(function(i){e.current=i,r.current&&z(r.current,null),r.current=t,t&&z(t,i)},[t])},R={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},O=function(e){Object.keys(R).forEach(function(t){e.style.setProperty(t,R[t],"important")})},L=O,o=null,H=function(e,t){var r=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function P(n,e,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),L(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,a=n.borderSize,u=n.sizingStyle,g=u.boxSizing;Object.keys(u).forEach(function(p){var v=p;o.style[v]=u[v]}),L(o),o.value=e;var s=H(o,n);o.value=e,s=H(o,n),o.value="x";var f=o.scrollHeight-i,c=f*t;g==="border-box"&&(c=c+i+a),s=Math.max(c,s);var h=f*r;return g==="border-box"&&(h=h+i+a),s=Math.min(h,s),[s,f]}var E=function(){},Y=function(e,t){return e.reduce(function(r,i){return r[i]=t[i],r},{})},G=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],K=!!document.documentElement.currentStyle,U=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var r=Y(G,t),i=r.boxSizing;if(i==="")return null;K&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),u=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:u}},X=U;function F(n,e,t){var r=_(t);d.useLayoutEffect(function(){var i=function(u){return r.current(u)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var Z=function(e){F(window,"resize",e)},q=function(e){F(document.fonts,"loadingdone",e)},D=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],J=function(e,t){var r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,u=e.onChange,g=u===void 0?E:u,s=e.onHeightChange,f=s===void 0?E:s,c=B(e,D),h=c.value!==void 0,p=d.useRef(null),v=$(p,t),S=d.useRef(0),b=d.useRef(),m=function(){var l=p.current,y=r&&b.current?b.current:X(l);if(y){b.current=y;var w=P(y,l.value||l.placeholder||"x",a,i),x=w[0],I=w[1];S.current!==x&&(S.current=x,l.style.setProperty("height",x+"px","important"),f(x,{rowHeight:I}))}},k=function(l){h||m(),g(l)};return d.useLayoutEffect(m),Z(m),q(m),d.createElement("textarea",N({},c,{onChange:k,ref:v}))},Q=d.forwardRef(J);const W=j(["appearance-none","bg-primary-100","text-black","dark:bg-primary-900","dark:text-white","font-mono","font-normal","h-8","p-2","rounded","text-xs","focus:outline","focus:outline-offset-2","focus:outline-secondary-500"],{variants:{element:{textarea:["box-border","resize-none"]}}}),te=()=>C("input",{className:T(W(),"max-w-xs","w-full"),placeholder:"Type here",type:"text"}),re=()=>C(Q,{className:T(W({element:"textarea"}),"max-w-xs","w-full"),minRows:1,maxRows:5,placeholder:"Type here"});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{te as Input,re as Textarea};
